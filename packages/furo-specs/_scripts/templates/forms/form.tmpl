import {html, css, LitElement} from 'lit-element';
import {FBP} from "@furo/fbp";
import {Theme} from "@furo/framework/theme"

{{range $import := .imports}}
import "{{$import}}";{{end}}

/**
 * `{{.component_name}}`
 * {{.description}}
 *
 * @customElement
 * @appliesMixin FBP
 */
class {{.class_name}} extends FBP(LitElement) {
    static get styles() {
        // language=CSS
        return Theme.getThemeForComponent('FormBaseTheme') || css`
            :host {
                display: block;
            }
            :host([hidden]) {
                display: none;
            }
        `
    }
    /**
     * Bind here your furo-data-object event @-object-ready
     * @public
     * @param data
     */
    bindData(data) {
        this._FBPTriggerWire('--data', data);
    }

    /**
     * @private
     * @returns {TemplateResult|TemplateResult}
     */
    render() {
        // language=HTML
        return html`

            {{range $fieldgroup := .fieldgroups}}
            <furo-form-layouter {{$fieldgroup.grid_size}}>
                {{range $field := $fieldgroup.fields}}{{"<" | noescape}}{{$field.component}} {{range $attr := $field.attrs}}{{$attr}} {{end}}Æ’-bind-data="--data(*.{{$field.field}})">{{"<" | noescape}}/{{$field.component}}>
                {{end}}
            </furo-form-layouter>
            {{end}}

        `;
    }
}

window.customElements.define('{{.component_name}}', {{.class_name}});
